#:kivy 2.0.0
#:import ZBarCam kivy_garden.zbarcam.ZBarCam
#:import ZBarSymbol pyzbar.pyzbar.ZBarSymbol
<Box>:
    ScreenManager:
        id: screen
        MDScreen:
            name: "Principal"
            MDBoxLayout:
                orientation: "vertical"
                MDToolbar:
                    title : "Toolbar"

                MDBottomNavigation:
                    MDBottomNavigationItem:
                        name : "perfil"
                        icon : "face" 
                        text : "perfil"

                    MDBottomNavigationItem:
                        name : "inicio"
                        icon : "home"
                        text : "inicio"

                        MDFloatingActionButtonSpeedDial:
                            data: {"Escanear QR":"qrcode",  "Pedir servicio":"taxi"}
                            rotation_root_button : True
                            callback: app.callback
        MDScreen:
            id: QR
            name: "QR"
            BoxLayout:
                orientation: 'vertical'
                Camera:
                    id: camara
                    resolution: 720, 480
                    size_hint: 1, 0.5
                MDFillRoundFlatIconButton:
                    icon: "camera"
                    text: "Escanear"
                    pos_hint: {"center_x": 0.5,}
                    on_release: root.take_photo()

        MDScreen:
            id: Formulario
            name: "Formulario"
            BoxLayout:
                orientation: 'vertical'
                MDToolbar:
                    title : "Nuevo servicio"
                GridLayout:
                    id:container_y
                    size_hint_y: None
                    cols: 1
                    row_default_height: root.height*0.1
                    height: self.minimum_height 
                    BoxLayout:
                        orientation: 'horizontal'
                        MDLabel:
                            text: "ID del conductor:"
                            font_style: "Subtitle1"
                            size_hint: .3, .05
                            valig: 'top'
                        MDLabel:
                            text: "123456789"
                            font_style: "Subtitle2"
                            size_hint: .5, .05
                            valig: 'top'
                    
                    BoxLayout:
                        orientation: 'horizontal'
                        MDLabel:
                            text: "Nombre del conductor:"
                            font_style: "Subtitle1"
                            size_hint: .3, .05
                            valign: 'top'
                        MDLabel:
                            text: "Sebastian Murcia"
                            font_style: "Subtitle2"
                            size_hint: .5, .05
                            valign: 'top'

                    BoxLayout:
                        orientation:'vertical'
                        MDLabel:
                            text: "Datos del viaje:"
                            font_style: "Subtitle1"
                            size_hint: .5, .05
                            valign: 'center'
                    BoxLayout:
                        orientation:'vertical'
                        MDTextFieldRound:
                            icon_right: 'send'
                            mode: "rectangle"
                            hint_text: "Dirección"
                            helper_text: "Ingrese su dirección"
                            helper_text_mode: "on_focus"
                            size_hint: .8, .1
                            pos_hint: {"center_x": .5, "center_y": .5}
                            on_text: root.calc(self.text)

                BoxLayout:
                    orientation: 'vertical'
                    MDLabel:
                        id: 'total'
                        text: "Total: "
                        halign: 'right'

                MDFillRoundFlatIconButton:
                    icon: "check"
                    text: "Confirmar"
                    pos_hint: {"center_x": .5, "center_y": .5}
                    valign: 'bottom'

                


